"use strict";(self.webpackChunkdocusaurus_openapi_typedoc=self.webpackChunkdocusaurus_openapi_typedoc||[]).push([[595],{7968:(e,s,n)=>{n.r(s),n.d(s,{assets:()=>c,contentTitle:()=>a,default:()=>p,frontMatter:()=>i,metadata:()=>r,toc:()=>l});const r=JSON.parse('{"id":"guide/Performance","title":"Performance","description":"Best Practices","source":"@site/docs/guide/Performance.md","sourceDirName":"guide","slug":"/guide/Performance","permalink":"/guide/Performance","draft":false,"unlisted":false,"editUrl":"https://github.com/vtempest/grab-api.js/blob/main/docs/guide/Performance.md","tags":[],"version":"current","frontMatter":{},"sidebar":"default","previous":{"title":"Examples","permalink":"/guide/Examples"},"next":{"title":"README","permalink":"/lib/"}}');var t=n(3420),o=n(8453);const i={},a=void 0,c={},l=[{value:"Best Practices",id:"best-practices",level:2},{value:"1. <strong>Use Response Objects for UI State</strong>",id:"1-use-response-objects-for-ui-state",level:3},{value:"2. <strong>Configure Defaults Early</strong>",id:"2-configure-defaults-early",level:3},{value:"3. <strong>Use Mocks for Development</strong>",id:"3-use-mocks-for-development",level:3},{value:"4. <strong>Handle Loading States</strong>",id:"4-handle-loading-states",level:3},{value:"5. <strong>Use Rate Limiting for User Interactions</strong>",id:"5-use-rate-limiting-for-user-interactions",level:3},{value:"6. <strong>Development vs Production</strong>",id:"6-development-vs-production",level:3},{value:"Common Issues",id:"common-issues",level:3}];function d(e){const s={code:"code",h2:"h2",h3:"h3",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",...(0,o.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(s.h2,{id:"best-practices",children:"Best Practices"}),"\n",(0,t.jsxs)(s.h3,{id:"1-use-response-objects-for-ui-state",children:["1. ",(0,t.jsx)(s.strong,{children:"Use Response Objects for UI State"})]}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-javascript",children:"let userProfile = { };\nawait grab('users/me', { response: userProfile });\n\n// Direct assignment is supported but loses .isLoading status\nlet user = await grab('users/me');\n"})}),"\n",(0,t.jsxs)(s.h3,{id:"2-configure-defaults-early",children:["2. ",(0,t.jsx)(s.strong,{children:"Configure Defaults Early"})]}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-javascript",children:"grab('', {\n  setDefaults: true,\n  baseURL: process.env.API_URL,\n  timeout: 30,\n  debug: process.env.NODE_ENV === 'development'\n});\n"})}),"\n",(0,t.jsxs)(s.h3,{id:"3-use-mocks-for-development",children:["3. ",(0,t.jsx)(s.strong,{children:"Use Mocks for Development"})]}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-javascript",children:"if (process.env.NODE_ENV === 'development') {\n  grab.mock = {\n    'users/me': { response: mockUser },\n    'posts': { response: mockPosts },\n    'settings': { response: mockSettings }\n  };\n}\n"})}),"\n",(0,t.jsxs)(s.h3,{id:"4-handle-loading-states",children:["4. ",(0,t.jsx)(s.strong,{children:"Handle Loading States"})]}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-javascript",children:"{state.isLoading ? (\n  <LoadingSpinner />\n) : state.error ? (\n  <ErrorMessage error={state.error} />\n) : (\n  <DataComponent data={state.data} />\n)}\n"})}),"\n",(0,t.jsxs)(s.h3,{id:"5-use-rate-limiting-for-user-interactions",children:["5. ",(0,t.jsx)(s.strong,{children:"Use Rate Limiting for User Interactions"})]}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-javascript",children:"await grab('save-data', {\n  post: true,\n  rateLimit: 2, // 2 seconds between saves\n  data: formData\n});\n"})}),"\n",(0,t.jsxs)(s.h3,{id:"6-development-vs-production",children:["6. ",(0,t.jsx)(s.strong,{children:"Development vs Production"})]}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-javascript",children:"// config.js\nconst isDevelopment = process.env.NODE_ENV === 'development';\n\n// Configure GRAB for different environments\ngrab('', {\n  setDefaults: true,\n  baseURL: isDevelopment \n    ? 'http://localhost:3001/api'\n    : 'https://api.myapp.com/v1',\n  debug: isDevelopment,\n  timeout: isDevelopment ? 60 : 30,\n  cache: !isDevelopment,\n  retryAttempts: isDevelopment ? 0 : 2\n});\n"})}),"\n",(0,t.jsx)(s.h3,{id:"common-issues",children:"Common Issues"}),"\n",(0,t.jsxs)(s.ol,{children:["\n",(0,t.jsxs)(s.li,{children:["\n",(0,t.jsxs)(s.p,{children:[(0,t.jsx)(s.strong,{children:"Request not updating UI"}),": Make sure to use the ",(0,t.jsx)(s.code,{children:"response"})," parameter and trigger re-renders in your framework."]}),"\n"]}),"\n",(0,t.jsxs)(s.li,{children:["\n",(0,t.jsxs)(s.p,{children:[(0,t.jsx)(s.strong,{children:"CORS errors"}),": Configure your server's CORS policy or use a proxy in development."]}),"\n"]}),"\n",(0,t.jsxs)(s.li,{children:["\n",(0,t.jsxs)(s.p,{children:[(0,t.jsx)(s.strong,{children:"Rate limiting too aggressive"}),": Adjust the ",(0,t.jsx)(s.code,{children:"rateLimit"})," value or disable it for testing."]}),"\n"]}),"\n",(0,t.jsxs)(s.li,{children:["\n",(0,t.jsxs)(s.p,{children:[(0,t.jsx)(s.strong,{children:"Mocks not working"}),": Ensure the mock path exactly matches the request path."]}),"\n"]}),"\n",(0,t.jsxs)(s.li,{children:["\n",(0,t.jsxs)(s.p,{children:[(0,t.jsx)(s.strong,{children:"TypeScript errors"}),": Add proper type definitions or use ",(0,t.jsx)(s.code,{children:"any"})," for rapid prototyping."]}),"\n"]}),"\n"]})]})}function p(e={}){const{wrapper:s}={...(0,o.R)(),...e.components};return s?(0,t.jsx)(s,{...e,children:(0,t.jsx)(d,{...e})}):d(e)}},8453:(e,s,n)=>{n.d(s,{R:()=>i,x:()=>a});var r=n(6672);const t={},o=r.createContext(t);function i(e){const s=r.useContext(o);return r.useMemo((function(){return"function"==typeof e?e(s):{...s,...e}}),[s,e])}function a(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:i(e.components),r.createElement(o.Provider,{value:s},e.children)}}}]);